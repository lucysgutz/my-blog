<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>lucy's space mp3</title>
<style>
body {
    background-color: black;
    font-family: "Courier New", monospace;
    color: red;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
}

h1 {
    color: #ff0000;
    font-size: 3em;
    text-shadow: 2px 2px #330000;
    margin: 20px 0;
    animation: flicker 1.5s infinite;
    text-align: center;
}

@keyframes flicker {
    0%,19%,21%,23%,25%,54%,56%,100% { opacity: 1; }
    20%,22%,24%,55% { opacity: 0.3; }
}

h2 {
    color: #ff4444;
    font-size: 2em;
    text-shadow: 1px 1px #220000;
    text-align: center;
}

#loginScreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: black;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

#loginScreen h1 {
    font-size: 5em;
    color: red;
    text-shadow: 2px 2px #330000;
    animation: flicker 1.5s infinite;
}

#loginScreen input {
    margin: 10px;
    padding: 10px;
    font-size: 1.5em;
    border: 3px solid red;
    background: black;
    color: red;
}

#loginScreen button {
    padding: 15px 40px;
    font-size: 1.5em;
    border: 3px solid red;
    background: black;
    color: red;
    cursor: pointer;
}

#loginScreen label {
    display: flex;
    align-items: center;
    font-size: 1em;
    margin-top: 5px;
    cursor: pointer;
}

#loginScreen input[type="checkbox"] {
    margin-right: 5px;
}

#loginScreen button:hover,
#loginScreen input:focus {
    background: #220000;
    color: #ff5555;
}

#player {
    display: none;
    width: 320px;
    border: 3px solid red;
    border-radius: 20px;
    background-color: #110000;
    padding: 15px;
    text-align: center;
}

#currentTrack {
    color: #ff7777;
    font-weight: bold;
    margin-bottom: 10px;
    overflow: hidden;
    white-space: nowrap;
}

#playlist {
    list-style: none;
    margin: 0;
    padding: 0;
    max-height: 150px;
    overflow-y: auto;
    border-top: 2px solid red;
    border-bottom: 2px solid red;
}

#playlist li {
    color: #ff6666;
    padding: 5px;
    cursor: pointer;
}

#playlist li.active {
    color: #ff0000;
    font-weight: bold;
}

#playlist li:hover {
    color: #ff0000;
}

.controls {
    margin-top: 10px;
}

.controls button {
    background: black;
    color: red;
    border: 2px solid red;
    padding: 5px 15px;
    margin: 0 5px;
    cursor: pointer;
}

.controls button:hover {
    background: #220000;
    color: #ff5555;
}
</style>
</head>
<body>

<div id="loginScreen">
    <h1>LOGIN</h1>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <label><input type="checkbox" id="rememberMe"> Remember me</label>
    <button id="loginBtn">ENTER</button>
</div>

<h1>~*lucy's space mp3*~</h1>
<h2 class="blink">music vault</h2>

<div id="player">
    <marquee id="currentTrack" behavior="scroll" direction="left">Now Playing: none</marquee>
    <ul id="playlist">
        <li>always stranger.mp3</li>
        <li>apathetic and pathetic.mp3</li>
        <li>babies.mp3</li>
        <li>cry.mp3</li>
        <li>die.mp3</li>
        <li>doormat.mp3</li>
        <li>farewell cruel world i'm off.mp3</li>
        <li>have you ever been in love.mp3</li>
        <li>hysteric.mp3</li>
        <li>i dont wanna fall in love.mp3</li>
        <li>i hate people.mp3</li>
        <li>i love you mom the house is on fire.mp3</li>
        <li>i plan to leave the internet fuck your trend.mp3</li>
        <li>i think she deserved it.mp3</li>
        <li>ik your waiting.mp3</li>
        <li>junkie.mp3</li>
        <li>kill.mp3</li>
        <li>literally nobody fucks with you or me.mp3</li>
        <li>lowlife.mp3</li>
        <li>match.mp3</li>
        <li>piss.mp3</li>
        <li>pony.mp3</li>
        <li>repent.mp3</li>
        <li>scary movie.mp3</li>
        <li>seduce me.mp3</li>
        <li>skeleton.mp3</li>
        <li>stan.mp3</li>
        <li>stuck in a ditch.mp3</li>
        <li>the more you know.mp3</li>
        <li>twenty sucks.mp3</li>
        <li>ugly.mp3</li>
        <li>unapologetic bastard.mp3</li>
        <li>uncool.mp3</li>
        <li>was it smt i said.mp3</li>
        <li>whatever.mp3</li>
    </ul>
    <audio id="audioPlayer" controls style="width:100%; margin-top:10px;"></audio>
    <div class="controls">
        <button id="prevBtn">Prev</button>
        <button id="nextBtn">Next</button>
    </div>
</div>

<script>
const validUser = "lucysgutz";
const validPass = "teddy0918";

const audioPlayer = document.getElementById("audioPlayer");
const playlistEl = document.getElementById("playlist");
const currentTrackEl = document.getElementById("currentTrack");
const rememberMeCheckbox = document.getElementById("rememberMe");

let tracks = [];
let currentTrackIndex = 0;

function highlightTrack(){
    const items = playlistEl.querySelectorAll('li');
    items.forEach((li,i)=>li.classList.toggle('active', i===currentTrackIndex));
}

function playTrack(index){
    currentTrackIndex = index;
    audioPlayer.src = tracks[index];
    audioPlayer.play();
    currentTrackEl.textContent = 'Now Playing: ' + tracks[index].split('/')[1];
    highlightTrack();
}

function loadPlaylist(){
    fetch('playlist/playlist.json')
    .then(res => res.json())
    .then(data => {
        tracks = data.map(file => 'playlist/' + file);
        playlistEl.innerHTML = '';
        tracks.forEach((track,i) => {
            const li = document.createElement('li');
            li.textContent = track.split('/')[1];
            li.addEventListener('click', ()=>playTrack(i));
            playlistEl.appendChild(li);
        });
        if(tracks.length) playTrack(0);
    })
    .catch(err => console.error('Failed to load playlist.json', err));
}

document.getElementById('loginBtn').addEventListener('click', () => {
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    if(user === validUser && pass === validPass){
        if(rememberMeCheckbox.checked) localStorage.setItem('mp3login','true');
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('player').style.display = 'block';
        loadPlaylist();
    } else {
        alert("wrong credentials, try again!");
    }
});

audioPlayer.addEventListener('ended', () => {
    currentTrackIndex++;
    if(currentTrackIndex >= tracks.length) currentTrackIndex = 0;
    playTrack(currentTrackIndex);
});

document.getElementById('prevBtn').addEventListener('click', () => {
    currentTrackIndex--;
    if(currentTrackIndex < 0) currentTrackIndex = tracks.length-1;
    playTrack(currentTrackIndex);
});

document.getElementById('nextBtn').addEventListener('click', () => {
    currentTrackIndex++;
    if(currentTrackIndex >= tracks.length) currentTrackIndex = 0;
    playTrack(currentTrackIndex);
});


window.addEventListener('load', () => {
    if(localStorage.getItem('mp3login') === 'true'){
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('player').style.display = 'block';
        loadPlaylist();
    }
});
</script>

</body>
</html>